{
  "info": {
    "author": "Simon Willison",
    "author_email": "",
    "bugtrack_url": null,
    "classifiers": [],
    "description": "# strip-tags\n\n[![PyPI](https://img.shields.io/pypi/v/strip-tags.svg)](https://pypi.org/project/strip-tags/)\n[![Changelog](https://img.shields.io/github/v/release/simonw/strip-tags?include_prereleases&label=changelog)](https://github.com/simonw/strip-tags/releases)\n[![Tests](https://github.com/simonw/strip-tags/workflows/Test/badge.svg)](https://github.com/simonw/strip-tags/actions?query=workflow%3ATest)\n[![License](https://img.shields.io/badge/license-Apache%202.0-blue.svg)](https://github.com/simonw/strip-tags/blob/master/LICENSE)\n\nStrip tags from HTML, optionally from areas identified by CSS selectors\n\nSee [llm, ttok and strip-tagsâ€”CLI tools for working with ChatGPT and other LLMs](https://simonwillison.net/2023/May/18/cli-tools-for-llms/) for more on this project.\n\n## Installation\n\nInstall this tool using `pip`:\n```bash\npip install strip-tags\n```\n## Usage\n\nPipe content into this tool to strip tags from it:\n```bash\ncat input.html | strip-tags > output.txt\n````\nOr pass a filename:\n```bash\nstrip-tags -i input.html > output.txt\n```\nTo run against just specific areas identified by CSS selectors:\n```bash\nstrip-tags '.content' -i input.html > output.txt\n```\nThis can be called with multiple selectors:\n```bash\ncat input.html | strip-tags '.content' '.sidebar' > output.txt\n```\nTo return just the first element on the page that matches one of the selectors, use `--first`:\n```bash\ncat input.html | strip-tags .content --first > output.txt\n```\nTo minify whitespace - reducing multiple space and tab characters to a single space, and multiple newlines and spaces to a maximum of two newlines - add `-m` or `--minify`:\n```bash\ncat input.html | strip-tags -m > output.txt\n```\nYou can also run this command using `python -m` like this:\n```bash\npython -m strip_tags --help\n```\n### Keeping the markup for specified tags\n\nWhen passing content to a language model, it can sometimes be useful to leave in a subset of HTML tags - `<h1>This is the heading</h1>` for example - to provide extra hints to the model.\n\nThe `-t/--keep-tag` option can be passed multiple times to specify tags that should be kept.\n\nThis example looks at the `<header>` section of https://datasette.io/ and keeps the tags around the list items and `<h1>` elements:\n\n```\ncurl -s https://datasette.io/ | strip-tags header -t h1 -t li\n```html\n<li>Uses</li>\n<li>Documentation Docs</li>\n<li>Tutorials</li>\n<li>Examples</li>\n<li>Plugins</li>\n<li>Tools</li>\n<li>News</li>\n<h1>\n    Datasette\n</h1>\nFind stories in data\n```\nAll attributes will be removed from the tags, except for the `id=` and `class=` attribute since those may provide further useful hints to the language model.\n\nThe `href` attribute on links, the `alt` attribute on images and the `name` and `value` attributes on `meta` tags are kept as well.\n\nYou can also specify a bundle of tags. For example, `strip-tags -t hs` will keep the tag markup for all levels of headings.\n\nThe following bundles can be used:\n\n- `-t hs`: `<h1>`, `<h2>`, `<h3>`, `<h4>`, `<h5>`, `<h6>`\n- `-t metadata`: `<title>`, `<meta>`\n- `-t structure`: `<header>`, `<section>`, `<main>`, `<aside>`, `<footer>`, `<article>`, `<nav>`\n\n\n## As a Python library\n\nYou can use `strip-tags` from Python code too. The function signature looks like this:\n\n```python\ndef strip_tags(\n    input: str,\n    selectors: Optional[Iterable[str]] = None,\n    *,\n    minify: bool = False,\n    first: bool = False,\n    keep_tags: Optional[Iterable[str]] = None,\n    all_attrs: bool = False,\n) -> str:\n```\nHere's an example:\n```python\nfrom strip_tags import strip_tags\n\nhtml = \"\"\"\n<div>\n<h1>This has tags</h1>\n\n<p>And whitespace too</p>\n</div>\nIgnore this bit.\n\"\"\"\nstripped = strip_tags(html, [\"div\"], minify=True, keep_tags=[\"h1\"])\nprint(stripped)\n```\nOutput:\n```\n<h1>This has tags</h1>\n\nAnd whitespace too\n```\n\n## Development\n\nTo contribute to this tool, first checkout the code. Then create a new virtual environment:\n```bash\ncd strip-tags\npython -m venv venv\nsource venv/bin/activate\n```\nNow install the dependencies and test dependencies:\n```bash\npip install -e '.[test]'\n```\nTo run the tests:\n```bash\npytest\n```\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": "",
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "home_page": "https://github.com/simonw/strip-tags",
    "keywords": "",
    "license": "Apache License, Version 2.0",
    "maintainer": "",
    "maintainer_email": "",
    "name": "strip-tags",
    "package_url": "https://pypi.org/project/strip-tags/",
    "platform": null,
    "project_url": "https://pypi.org/project/strip-tags/",
    "project_urls": {
      "CI": "https://github.com/simonw/strip-tags/actions",
      "Changelog": "https://github.com/simonw/strip-tags/releases",
      "Homepage": "https://github.com/simonw/strip-tags",
      "Issues": "https://github.com/simonw/strip-tags/issues"
    },
    "release_url": "https://pypi.org/project/strip-tags/0.4.1/",
    "requires_dist": [
      "click",
      "beautifulsoup4",
      "html5lib",
      "pytest ; extra == 'test'",
      "pytest-icdiff ; extra == 'test'"
    ],
    "requires_python": ">=3.7",
    "summary": "Strip tags from HTML, optionally from areas identified by CSS selectors",
    "version": "0.4.1",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 18548758,
  "releases": {
    "0.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "47af13ef6d1161e5ba8182c724746559cc7f14d3dafb1d87ce0caff551a35c41",
          "md5": "aa70ff97fd28d16bb8fd7b525799bb9a",
          "sha256": "9dee6f2ff8f064af9cf1780c21453f698f81ca882a12baced4a4341d8dc76f0b"
        },
        "downloads": -1,
        "filename": "strip_tags-0.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "aa70ff97fd28d16bb8fd7b525799bb9a",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.7",
        "size": 7354,
        "upload_time": "2023-05-18T16:12:48",
        "upload_time_iso_8601": "2023-05-18T16:12:48.583099Z",
        "url": "https://files.pythonhosted.org/packages/47/af/13ef6d1161e5ba8182c724746559cc7f14d3dafb1d87ce0caff551a35c41/strip_tags-0.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "5ee58cc421e0cdb86888a6df44919c86cff404df1f6b8069227fa90ab43a9d8b",
          "md5": "3c995a2fe337a6ea38d78dd695a8f952",
          "sha256": "e651e5f1fdf6f59628174a8ef27f84c97705b825245f9b3e393f866dca5104c6"
        },
        "downloads": -1,
        "filename": "strip-tags-0.1.tar.gz",
        "has_sig": false,
        "md5_digest": "3c995a2fe337a6ea38d78dd695a8f952",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7",
        "size": 7131,
        "upload_time": "2023-05-18T16:12:49",
        "upload_time_iso_8601": "2023-05-18T16:12:49.978380Z",
        "url": "https://files.pythonhosted.org/packages/5e/e5/8cc421e0cdb86888a6df44919c86cff404df1f6b8069227fa90ab43a9d8b/strip-tags-0.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.2": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "f8f411b71d4ffe6618a3e69d6d91ab405e9b600ccc961a6e85fefd60fe170880",
          "md5": "282e7a27ec5241beb6111b2e010554b6",
          "sha256": "e5c7f66c7bcba939ce62dcab2f6a64d5d82073318b4ec5df6443a7c07d4c8f7f"
        },
        "downloads": -1,
        "filename": "strip_tags-0.2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "282e7a27ec5241beb6111b2e010554b6",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.7",
        "size": 7438,
        "upload_time": "2023-05-18T16:27:07",
        "upload_time_iso_8601": "2023-05-18T16:27:07.357440Z",
        "url": "https://files.pythonhosted.org/packages/f8/f4/11b71d4ffe6618a3e69d6d91ab405e9b600ccc961a6e85fefd60fe170880/strip_tags-0.2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "59268e51d46fd0061431109a74236f391de6b089467904eb0f4bf2535eb87090",
          "md5": "470682d544b50209f22a2d4c3c7399d2",
          "sha256": "f033359cec2c6d150498fd36fd1324b0b115644abe14be9973ea78dd9478100a"
        },
        "downloads": -1,
        "filename": "strip-tags-0.2.tar.gz",
        "has_sig": false,
        "md5_digest": "470682d544b50209f22a2d4c3c7399d2",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7",
        "size": 7288,
        "upload_time": "2023-05-18T16:27:08",
        "upload_time_iso_8601": "2023-05-18T16:27:08.827475Z",
        "url": "https://files.pythonhosted.org/packages/59/26/8e51d46fd0061431109a74236f391de6b089467904eb0f4bf2535eb87090/strip-tags-0.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.3": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "b62e9f35e229eb0e4501f8fa045108b24e60b24f827ab65f31940cec27144eff",
          "md5": "467d64c202ea998fa7ea4a7dec2813ab",
          "sha256": "35f1817f7823f3c545adff3ca7b935381b41f05cf03dae53856699d04c9b9de3"
        },
        "downloads": -1,
        "filename": "strip_tags-0.3-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "467d64c202ea998fa7ea4a7dec2813ab",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.7",
        "size": 8083,
        "upload_time": "2023-05-19T05:20:28",
        "upload_time_iso_8601": "2023-05-19T05:20:28.643765Z",
        "url": "https://files.pythonhosted.org/packages/b6/2e/9f35e229eb0e4501f8fa045108b24e60b24f827ab65f31940cec27144eff/strip_tags-0.3-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "863510381a5f51247b5cc1c48b80375994df3c4f4cc759c6a9c6649eaf3c842c",
          "md5": "75035703d20f21339b0a7be372dbc7de",
          "sha256": "4964d1b3ffae7904f39a401b15afcf1a3ce697708887f9c6d3d4d126880fce86"
        },
        "downloads": -1,
        "filename": "strip-tags-0.3.tar.gz",
        "has_sig": false,
        "md5_digest": "75035703d20f21339b0a7be372dbc7de",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7",
        "size": 8129,
        "upload_time": "2023-05-19T05:20:30",
        "upload_time_iso_8601": "2023-05-19T05:20:30.351498Z",
        "url": "https://files.pythonhosted.org/packages/86/35/10381a5f51247b5cc1c48b80375994df3c4f4cc759c6a9c6649eaf3c842c/strip-tags-0.3.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.4": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "486478c3212d816066bbf4b038ecb3a397207b9ee57e7c8f8c14d9ee177160e4",
          "md5": "0d1d4104b956918c97a302d5a0cb018c",
          "sha256": "97710edce695af9f16a191be1637bcbba82a78074998a0d7793a449f19330e70"
        },
        "downloads": -1,
        "filename": "strip_tags-0.4-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "0d1d4104b956918c97a302d5a0cb018c",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.7",
        "size": 10287,
        "upload_time": "2023-06-18T08:09:13",
        "upload_time_iso_8601": "2023-06-18T08:09:13.826097Z",
        "url": "https://files.pythonhosted.org/packages/48/64/78c3212d816066bbf4b038ecb3a397207b9ee57e7c8f8c14d9ee177160e4/strip_tags-0.4-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "24382d4c00c1d6dfde3c182eaca6952688f3a263dd07dccb01078f82d320c15e",
          "md5": "0a041a338b0b364d8f608eecd76fccde",
          "sha256": "57cdc52cafdbb30213bef58191d7f3ef1fce9fca43349ba4f6bd4e2f84d27561"
        },
        "downloads": -1,
        "filename": "strip-tags-0.4.tar.gz",
        "has_sig": false,
        "md5_digest": "0a041a338b0b364d8f608eecd76fccde",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7",
        "size": 11052,
        "upload_time": "2023-06-18T08:09:15",
        "upload_time_iso_8601": "2023-06-18T08:09:15.141431Z",
        "url": "https://files.pythonhosted.org/packages/24/38/2d4c00c1d6dfde3c182eaca6952688f3a263dd07dccb01078f82d320c15e/strip-tags-0.4.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.4.1": [
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "00545376cc24cb543b04bad5f69ad019a8461ed17a315e1a4a1817e6afe8a902",
          "md5": "5a95e5bfd1adf74bc6c3b8d0eb1808eb",
          "sha256": "37881027ef3038fb41f88e7ba0e0604eec79279b75ca72d4a867d101e15ce356"
        },
        "downloads": -1,
        "filename": "strip_tags-0.4.1-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "5a95e5bfd1adf74bc6c3b8d0eb1808eb",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.7",
        "size": 10263,
        "upload_time": "2023-06-18T08:39:21",
        "upload_time_iso_8601": "2023-06-18T08:39:21.354952Z",
        "url": "https://files.pythonhosted.org/packages/00/54/5376cc24cb543b04bad5f69ad019a8461ed17a315e1a4a1817e6afe8a902/strip_tags-0.4.1-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": "",
        "digests": {
          "blake2b_256": "f997deabda2e5390a15f8ddda5e53a98aedc01bbf6197f96fa598e800eac060d",
          "md5": "96508d791cfe1db0fcd0bc27bc2984fd",
          "sha256": "f0ea0b5ceac6f724948a758462662eda2479c60314c24cfd005a60d34883f2da"
        },
        "downloads": -1,
        "filename": "strip-tags-0.4.1.tar.gz",
        "has_sig": false,
        "md5_digest": "96508d791cfe1db0fcd0bc27bc2984fd",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.7",
        "size": 11049,
        "upload_time": "2023-06-18T08:39:22",
        "upload_time_iso_8601": "2023-06-18T08:39:22.715177Z",
        "url": "https://files.pythonhosted.org/packages/f9/97/deabda2e5390a15f8ddda5e53a98aedc01bbf6197f96fa598e800eac060d/strip-tags-0.4.1.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "00545376cc24cb543b04bad5f69ad019a8461ed17a315e1a4a1817e6afe8a902",
        "md5": "5a95e5bfd1adf74bc6c3b8d0eb1808eb",
        "sha256": "37881027ef3038fb41f88e7ba0e0604eec79279b75ca72d4a867d101e15ce356"
      },
      "downloads": -1,
      "filename": "strip_tags-0.4.1-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "5a95e5bfd1adf74bc6c3b8d0eb1808eb",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.7",
      "size": 10263,
      "upload_time": "2023-06-18T08:39:21",
      "upload_time_iso_8601": "2023-06-18T08:39:21.354952Z",
      "url": "https://files.pythonhosted.org/packages/00/54/5376cc24cb543b04bad5f69ad019a8461ed17a315e1a4a1817e6afe8a902/strip_tags-0.4.1-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": "",
      "digests": {
        "blake2b_256": "f997deabda2e5390a15f8ddda5e53a98aedc01bbf6197f96fa598e800eac060d",
        "md5": "96508d791cfe1db0fcd0bc27bc2984fd",
        "sha256": "f0ea0b5ceac6f724948a758462662eda2479c60314c24cfd005a60d34883f2da"
      },
      "downloads": -1,
      "filename": "strip-tags-0.4.1.tar.gz",
      "has_sig": false,
      "md5_digest": "96508d791cfe1db0fcd0bc27bc2984fd",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.7",
      "size": 11049,
      "upload_time": "2023-06-18T08:39:22",
      "upload_time_iso_8601": "2023-06-18T08:39:22.715177Z",
      "url": "https://files.pythonhosted.org/packages/f9/97/deabda2e5390a15f8ddda5e53a98aedc01bbf6197f96fa598e800eac060d/strip-tags-0.4.1.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}
